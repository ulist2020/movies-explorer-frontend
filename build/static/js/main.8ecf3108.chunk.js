(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],Array(21).concat([function(e,t,n){},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),c=n(23),i=n.n(c),o=(n(21),n(25)),r=n(4),l=n(3),j=(n(31),n(32),n(2)),d=(n(33),n(34),n(0));var u=function(){return Object(d.jsx)("img",{className:"logo",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAMAAACf4xmcAAAAZlBMVEUAAAA93YQ93YU83IQ93IM814A93IQ83IU73IQ824M62oVA04A92YM93IM93IT////n+/BJ3ovz/fhV4ZO28tGS7LpV4JOG6bJh45vP9uCq8Mme7sLb+OjD9dlu5aPO9uCq8Mp556s4EaHoAAAADnRSTlMA79+AYCDPr3BAMBBQUFW3qR8AAAFESURBVDjLjZTZsoMgDEBZFFx6g+t1a237/z/ZEY2Amk7PE0POsCQEFpAmWnAArnSSMYJcCvAQUXxlSQ4HhDxJsYILxGHBiMMl/BZYQBI560YooRfzbxrH83l5KN9NYUw1tLWbU1sm3ExbGaRxorRbin2pxngUu8fz4JZ3E1D1/nL7YqM5UJSYZcYytPo1Nswl9K/CjkeMpSzB4WAjHVj+Vw+XS5iGLWDnWztGr8JbaIYl7+xp4BrBuH+BiaoEw9Fj0d5AEGodqeGmzfdNBZZz0Z6EpuiE+OXSLr1P9Lz01nt6U9Tm7QHNJdRTtY4xlnmlf51KX7vSM0k+pNpvh5wTz7J33Xp45F2xW2PpPXKLAk983JeWmZwE4vcGxKanuf3+OSB/1FfjWditZ9T5J5QnkUt2QRwFopA5I8gSrZYvWugkDQIfln1AIyTig5IAAAAASUVORK5CYII=",alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})};var h=function(e){return Object(d.jsxs)("div",{className:"header__contaner navigation",children:[Object(d.jsxs)("div",{className:"navigation__contaner",children:[Object(d.jsx)(j.b,{to:"/",children:Object(d.jsx)(u,{})}),Object(d.jsxs)("nav",{className:"navigation__links",children:[Object(d.jsx)(j.b,{to:"/movies",className:"header__sign-up navigation__movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(j.b,{to:"/saved-movies",className:"header__sign-up navigation__saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]})]}),Object(d.jsx)(j.b,{to:"/profile",className:"navigation__button",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(d.jsx)("div",{className:"navigation__menu",onClick:e.handleClick})]})};var m=function(e){var t=e.loggedIn,n=e.handleClick,s=Object(l.h)();return Object(d.jsx)("header",{className:"header ".concat(("/sign-up"===s.pathname||"/sign-in"===s.pathname)&&"header_none","\n        ").concat("/"===s.pathname&&"header"),children:Object(d.jsxs)(l.d,{children:[Object(d.jsxs)(l.b,{exact:!0,path:"/",children:[!t&&Object(d.jsxs)("div",{className:"header__contaner",children:[Object(d.jsx)(j.b,{to:"/",children:Object(d.jsx)(u,{})}),Object(d.jsxs)("div",{className:"header__block",children:[Object(d.jsx)(j.b,{to:"/sign-up",className:"header__sign-up",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsx)(j.b,{to:"/sign-in",className:"header__sign-in",children:"\u0412\u043e\u0439\u0442\u0438"})]})]}),t&&Object(d.jsx)(h,{})]}),Object(d.jsx)(l.b,{path:"/movies",children:Object(d.jsx)(h,{handleClick:n})}),Object(d.jsx)(l.b,{path:"/saved-movies",children:Object(d.jsx)(h,{})}),Object(d.jsx)(l.b,{path:"/profile",children:Object(d.jsx)(h,{})})]})})},b=(n(41),n(42),n.p+"static/media/world.689dfeae.png");function p(){document.querySelector(".about").scrollIntoView()}var _=function(){return Object(d.jsxs)("section",{className:"promo",children:[Object(d.jsxs)("div",{className:"promo__contaner",children:[Object(d.jsxs)("div",{className:"promo__description",children:[Object(d.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."}),Object(d.jsx)("p",{className:"promo__subtitle",children:"\u041b\u0438\u0441\u0442\u0430\u0439\u0442\u0435 \u043d\u0438\u0436\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u043e \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442 \u0438 \u0435\u0433\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044f."})]}),Object(d.jsx)("img",{className:"promo__image",src:b,alt:"\u0417\u0435\u043c\u043d\u043e\u0439 \u0448\u0430\u0440"})]}),Object(d.jsx)("button",{onClick:p,className:"promo__button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435",children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})]})};n(43);var O=function(){return Object(d.jsxs)("section",{className:"project",children:[Object(d.jsx)("h2",{className:"project__header",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(d.jsxs)("div",{className:"project__description",children:[Object(d.jsxs)("div",{className:"project__stages",children:[Object(d.jsx)("h3",{className:"project__stages-title",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(d.jsx)("p",{className:"project__stages-subtitle",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(d.jsxs)("div",{className:"project__stages",children:[Object(d.jsx)("h3",{className:"project__stages-title",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(d.jsx)("p",{className:"project__stages-subtitle",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(d.jsxs)("div",{className:"project__time",children:[Object(d.jsxs)("div",{className:"project__time-front",children:[Object(d.jsx)("p",{className:"project__time-first",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"}),Object(d.jsx)("a",{href:"https://github.com/ulist2020/movies-explorer-api",className:"project__time-about",children:"Back-end"})]}),Object(d.jsxs)("div",{className:"project__time-back",children:[Object(d.jsx)("p",{className:"project__time-second",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"}),Object(d.jsx)("a",{href:"https://github.com/ulist2020/movies-explorer-frontend",className:"project__time-about",children:"Front-end"})]})]})]})};n(44);var v=function(){return Object(d.jsxs)("section",{className:"techs",children:[Object(d.jsx)("h2",{className:"project__header techs__header",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(d.jsxs)("div",{className:"techs__description",children:[Object(d.jsx)("h1",{className:"promo__title techs__title",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(d.jsx)("p",{className:"promo__subtitle techs__subtitle",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(d.jsxs)("ul",{className:"techs__list",children:[Object(d.jsx)("li",{className:"techs__technology",children:"HTML"}),Object(d.jsx)("li",{className:"techs__technology",children:"CSS"}),Object(d.jsx)("li",{className:"techs__technology",children:"JS"}),Object(d.jsx)("li",{className:"techs__technology",children:"React"}),Object(d.jsx)("li",{className:"techs__technology",children:"Git"}),Object(d.jsx)("li",{className:"techs__technology",children:"Express.js"}),Object(d.jsx)("li",{className:"techs__technology",children:"mongoDB"})]})]})]})},f=(n(45),n.p+"static/media/photo.66f18048.jpg");var x=function(){return Object(d.jsxs)("section",{className:"about",children:[Object(d.jsx)("h2",{className:"project__header",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(d.jsxs)("div",{className:"promo__contaner about__contaner",children:[Object(d.jsxs)("div",{className:"about__description",children:[Object(d.jsx)("h1",{className:"promo__title about__title",children:"\u042e\u043b\u0438\u044f"}),Object(d.jsx)("p",{className:"about__profession",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a, 36 \u043b\u0435\u0442"}),Object(d.jsxs)("p",{className:"about__subtitle",children:["\u0414\u043b\u044f \u043c\u0435\u043d\u044f \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u2013 \u044d\u0442\u043e \u043a\u0430\u043a \u0438\u0433\u0440\u0430 \u0432 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 LEGO. \u0418\u0437 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 \u0440\u0430\u0437\u043d\u044b\u0445 \u0434\u0435\u0442\u0430\u043b\u0435\u0439 \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0447\u0442\u043e-\u0442\u043e \u043e\u0434\u043d\u043e \u0431\u043e\u043b\u044c\u0448\u043e\u0435, \u043a\u0440\u0430\u0441\u0438\u0432\u043e\u0435 \u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0435. \u0422\u0430\u043a \u0436\u0435 \u0438 \u0432 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u043c\u0438\u043b\u043b\u0438\u043e\u043d\u044b \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432, \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043a\u043b\u0430\u0441\u0441\u043d\u044b\u0439 \u0441\u0430\u0439\u0442. \u0418, \u0441\u0430\u043c\u043e\u0435 \u0433\u043b\u0430\u0432\u043d\u043e\u0435, \u044f \u043c\u043e\u0433\u0443 \u0432\u0438\u0434\u0435\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0441\u0432\u043e\u0435\u0439 \u0440\u0430\u0431\u043e\u0442\u044b. ",Object(d.jsx)("br",{}),"\u0414\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u0435 \u0434\u0430\u0432\u043d\u0435\u0435 \u0436\u0435\u043b\u0430\u043d\u0438\u0435, \u0441\u0442\u0430\u0442\u044c \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u043c, \u044f \u0440\u0435\u0448\u0438\u043b\u0430 \u0443\u0447\u0438\u0442\u044c\u0441\u044f \u0432 \u042f\u043d\u0434\u0435\u043a\u0441 \u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c. \u0410\u043a\u0442\u0438\u0432\u043d\u043e \u0438\u0437\u0443\u0447\u0430\u044e \u0432\u0441\u0435 \u0442\u0435\u043e\u0440\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u043d\u0430\u043d\u0438\u044f \u043f\u043e \u043a\u0443\u0440\u0441\u0443. \u0410 \u0442\u0430\u043a \u0436\u0435 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f.",Object(d.jsx)("br",{}),"\u041c\u043e\u0439 \u0434\u0435\u0432\u0438\u0437 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b: \xab\u0421\u0434\u0435\u043b\u0430\u043b \u0434\u0435\u043b\u043e \u2013 \u0433\u0443\u043b\u044f\u0439 \u0441\u043c\u0435\u043b\u043e\xbb. \u041f\u043e\u044d\u0442\u043e\u043c\u0443 \u043b\u044e\u0431\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u0434\u0435\u043b\u0430\u044e \u0432\u043e\u0432\u0440\u0435\u043c\u044f. \u041b\u044e\u0431\u043b\u044e \xab\u043a\u043e\u043f\u0430\u0442\u044c\u0441\u044f\xbb \u0441 \u0440\u0430\u0441\u0442\u0435\u043d\u0438\u044f\u043c\u0438, \u0434\u043b\u044f \u043c\u0435\u043d\u044f \u044d\u0442\u043e \u0441\u0432\u043e\u0435\u0433\u043e \u0440\u043e\u0434\u0430 \u043c\u0435\u0434\u0438\u0442\u0430\u0446\u0438\u044f."]}),Object(d.jsx)("a",{href:"https://github.com/ulist2020",className:"about-link",children:"Github"}),Object(d.jsx)("a",{href:"https://www.instagram.com/juliy_smirnovaa/",className:"about-link",children:"Instagram"})]}),Object(d.jsx)("img",{className:"about__image",src:f,alt:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430"})]})]})};n(46);var g=function(){return Object(d.jsxs)("section",{className:"portfolio",children:[Object(d.jsx)("h2",{className:"portfolio__header",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(d.jsxs)("ul",{className:"portfolio__list",children:[Object(d.jsxs)("li",{className:"portfolio__block",children:[Object(d.jsx)("p",{className:"portfolio__name",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 (Frontend)"}),Object(d.jsx)("a",{href:"https://github.com/ulist2020/movies-explorer-frontend",className:"portfolio__link",children:"\u2197"})]}),Object(d.jsxs)("li",{className:"portfolio__block",children:[Object(d.jsx)("p",{className:"portfolio__name",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 (Backend)"}),Object(d.jsx)("a",{href:"https://github.com/ulist2020/movies-explorer-api",className:"portfolio__link",children:"\u2197"})]}),Object(d.jsxs)("li",{className:"portfolio__block portfolio__block-line",children:[Object(d.jsx)("p",{className:"portfolio__name",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"}),Object(d.jsx)("a",{href:"https://github.com/ulist2020/react-mesto-api-full",className:"portfolio__link",children:"\u2197"})]})]})]})};var N=function(){return Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)(_,{}),Object(d.jsx)(O,{}),Object(d.jsx)(v,{}),Object(d.jsx)(x,{}),Object(d.jsx)(g,{})]})};n(47),n(48),n(49);var k=function(e){var t=e.onClickCheckbox,n=e.checkedShorts;return Object(d.jsxs)("div",{className:"filter",children:[Object(d.jsx)("input",{id:"filter",className:"filter-input",checked:n,onChange:t,name:"filter",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:"filter",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})};var S=function(e){var t=e.onUpdateForm,n=e.onClickCheckbox,a=e.checkedShorts,c=Object(s.useState)(""),i=Object(r.a)(c,2),o=i[0],l=i[1];return Object(d.jsxs)("div",{className:"form",children:[Object(d.jsxs)("form",{className:"form__contaner",onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(d.jsx)("input",{value:o,onChange:function(e){l(e.target.value)},id:"form-name",className:"form__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",name:"name",tape:"text",minLength:"2",maxLength:"50",required:!0}),Object(d.jsx)("button",{className:"form__button",tape:"submit","aria-label":"\u041d\u0430\u0439\u0442\u0438",children:"\u041d\u0430\u0439\u0442\u0438"})]}),Object(d.jsx)(k,{onClickCheckbox:n,checkedShorts:a})]})};n(50),n(51);var C=function(e){var t,n=e.card,s=e.nameRU,a=e.image,c=e.duration,i=(e.owner,e.isSavedMoviesPage),o=e.onSavedMovies,r=e.onDeleteMovies,l=e.isSaved,j="card__like ".concat(l?"card__like_activ":"");return Object(d.jsxs)("li",{className:"card",children:[Object(d.jsx)("div",{className:"card__video",onClick:function(){window.open(n.trailer)},style:{backgroundImage:"url(".concat(a,")")}}),Object(d.jsxs)("div",{className:"card__contaner",children:[Object(d.jsx)("p",{className:"card__name",children:s}),i?Object(d.jsx)("button",{className:j,onClick:function(){l?r(n.savedMovieId):o(n)},type:"button","aria-label":"\u041f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043b\u0430\u0439\u043a"}):Object(d.jsx)("button",{className:"card__like card__like-saved",onClick:function(){r(n._id)},type:"reset","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u043c \u0438\u0437 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0445"})]}),Object(d.jsx)("p",{className:"card__time",children:(t=c,Math.trunc(t/60)+"\u0447 "+t%60+"\u043c")})]})};var A=function(e){var t=e.movies,n=e.countCards,s=e.onSavedMovies,a=e.isSavedMoviesPage,c=e.onDeleteMovies,i=e.savedMovies;return Object(d.jsx)("div",{className:"list",children:Object(d.jsx)("ul",{className:"list__contaner",children:t.slice(0,n).map((function(e){var t=function(e){for(var t="abdehkmnpswxzABDEFGHKMNPQRSTWXZ123456789",n="",s=0;s<e;s++){var a=Math.floor(Math.random()*t.length);n+=t.substring(a,a+1)}return n}(20);return Object(d.jsx)(C,{image:e.image.url?"https://api.nomoreparties.co"+e.image.url:e.image,nameRU:e.nameRU,duration:e.duration,owner:e.owner,card:e,onSavedMovies:s,onDeleteMovies:c,isSavedMoviesPage:a,savedMovies:i,isSaved:e.isSaved},t)}))})})},M=(n(52),function(){return Object(d.jsx)("div",{className:"preloader",children:Object(d.jsx)("div",{className:"preloader__container",children:Object(d.jsx)("span",{className:"preloader__round"})})})});n(53);var y=function(e){var t=e.onButtonAdd;return Object(d.jsx)("div",{className:"button",children:Object(d.jsx)("button",{className:"button__add",onClick:t,children:"\u0415\u0449\u0451"})})};var w=function(e){var t=e.movies,n=e.onUpdateForm,s=e.loading,a=e.errorServer,c=e.onClickCheckbox,i=e.countCards,o=e.onButtonAdd,r=e.onSavedMovies,l=e.savedMovies,j=e.onDeleteMovies,u=e.checkedShorts;return Object(d.jsxs)("div",{className:"movies",children:[Object(d.jsx)(S,{onUpdateForm:n,onClickCheckbox:c,checkedShorts:u}),s&&Object(d.jsx)(M,{}),!t.length&&!a&&Object(d.jsx)("p",{className:"movies__not-found",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),a&&Object(d.jsx)("p",{className:"movies__not-found",children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"}),Object(d.jsx)(A,{movies:t,countCards:i,onSavedMovies:r,isSavedMoviesPage:!0,savedMovies:l,onDeleteMovies:j}),i<t.length&&Object(d.jsx)(y,{onButtonAdd:o})]})};n(54);var I=function(e){var t=e.onUpdateForm,n=e.loading,s=e.errorServer,a=e.onClickCheckbox,c=e.countCards,i=(e.onButtonAdd,e.savedMovies),o=e.onDeleteMovies,r=e.checkedShorts;return Object(d.jsxs)("div",{className:"movies",children:[Object(d.jsx)(S,{onUpdateForm:t,onClickCheckbox:a,checkedShorts:r}),n&&Object(d.jsx)(M,{}),!i.length&&!s&&Object(d.jsx)("p",{className:"movies__not-found",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}),s&&Object(d.jsx)("p",{className:"movies__not-found",children:"\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437"}),Object(d.jsx)(A,{savedMovies:i,movies:i,countCards:c,isSavedMoviesPage:!1,onDeleteMovies:o})]})},L=a.a.createContext(),U=(n(55),n(13)),E=n(10);var z=function(e){var t=a.a.useState(e),n=Object(r.a)(t,2),c=n[0],i=n[1],o=a.a.useState({}),l=Object(r.a)(o,2),j=l[0],d=l[1],u=a.a.useState(!1),h=Object(r.a)(u,2),m=h[0],b=h[1],p=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(e),d(t),b(n)}),[i,d,b]);return{values:c,handleChange:function(e){var t=e.target,n=t.name,s=t.value;i(Object(E.a)(Object(E.a)({},c),{},Object(U.a)({},n,s))),d(Object(E.a)(Object(E.a)({},j),{},Object(U.a)({},n,t.validationMessage))),b(t.closest("form").checkValidity())},errors:j,isValid:m,resetForm:p}};var F=function(e){var t=e.onUpdateUser,n=e.onLogout,s=a.a.useContext(L),c=z({name:s.name,email:s.email}),i=c.values,o=c.handleChange,r=c.errors,l=c.isValid;return Object(d.jsxs)("form",{className:"profile",onSubmit:function(e){e.preventDefault(),l&&t(i)},children:[Object(d.jsxs)("h3",{className:"profile__header",children:["\u041f\u0440\u0438\u0432\u0435\u0442, ",s.name,"!"]}),Object(d.jsxs)("div",{className:"profile__contaner",children:[Object(d.jsxs)("div",{className:"profile____block profile____block-line",children:[Object(d.jsx)("p",{className:"profile__description",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{value:i.name,onChange:o,id:"profile-name",className:"profile__input ".concat(r&&r.name&&"register__input_error"),name:"name",tape:"text",minLength:"2",maxLength:"20",required:!0})]}),Object(d.jsx)("span",{className:"register__error",children:r&&r.name&&r.name}),Object(d.jsxs)("div",{className:"profile____block",children:[Object(d.jsx)("p",{className:"profile__description",children:"E-mail"}),Object(d.jsx)("input",{value:i.email,onChange:o,id:"profile-password",className:"profile__input ".concat(r&&r.name&&"register__input_error"),name:"email",tape:"email",minLength:"2",maxLength:"20",pattern:"^((([0-9A-Za-z]{1}[-0-9A-z\\.]{0,30}[0-9A-Za-z]?)|([0-9\u0410-\u042f\u0430-\u044f]{1}[-0-9\u0410-\u044f\\.]{0,30}[0-9\u0410-\u042f\u0430-\u044f]?))@([-A-Za-z]{1,}\\.){1,}[-A-Za-z]{2,})$",required:!0})]}),Object(d.jsx)("span",{className:"register__error",children:r&&r.email&&r.email})]}),Object(d.jsx)("button",{className:"profile__redaction",tape:"submit","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",disabled:!l,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(d.jsx)("button",{className:"profile__out",onClick:n,"aria-label":"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})};n(56),n(57);var B=function(e){var t=e.className,n=e.disabled,s=e.buttonText,a=e.text,c=e.link,i=e.buttonLink;return Object(d.jsxs)("div",{className:t,children:[Object(d.jsx)("button",{className:"but__profile",disabled:n,tape:"submit","aria-label":s,children:s}),Object(d.jsxs)("p",{className:"but__register",children:[a,Object(d.jsxs)(j.b,{to:c,className:"but__register-auth",children:[i," "]})]})]})};var T=function(e){var t=e.onLogin,n=z({}),s=n.values,a=n.handleChange,c=n.errors,i=n.isValid;return Object(d.jsxs)("form",{className:"register",onSubmit:function(e){e.preventDefault(),i&&t(s.email,s.password)},children:[Object(d.jsxs)("div",{className:"register__contaner",children:[Object(d.jsx)(j.b,{to:"/",children:Object(d.jsx)(u,{})}),Object(d.jsx)("h3",{className:"register__header",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"})]}),Object(d.jsx)("p",{className:"register__description",children:"E-mail"}),Object(d.jsx)("input",{onChange:a,className:"register__input ".concat(c&&c.name&&"register__input_error"),name:"email",tape:"email",pattern:"^((([0-9A-Za-z]{1}[-0-9A-z\\.]{0,30}[0-9A-Za-z]?)|([0-9\u0410-\u042f\u0430-\u044f]{1}[-0-9\u0410-\u044f\\.]{0,30}[0-9\u0410-\u042f\u0430-\u044f]?))@([-A-Za-z]{1,}\\.){1,}[-A-Za-z]{2,})$",required:!0}),Object(d.jsx)("span",{className:"register__error",children:c&&c.email&&c.email}),Object(d.jsx)("p",{className:"register__description",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{onChange:a,className:"register__input ".concat(c&&c.name&&"register__input_error"),name:"password",type:"password",minLength:"8",maxLength:"20",required:!0}),Object(d.jsx)("span",{className:"register__error",children:c&&c.password&&c.password}),Object(d.jsx)(B,{disabled:!i,className:"but__login",buttonText:"\u0412\u043e\u0439\u0442\u0438",text:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",link:"/sign-up",buttonLink:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})};n(58);var R=function(e){var t=e.onRegister,n=z({}),s=n.values,a=n.handleChange,c=n.errors,i=n.isValid;return Object(d.jsxs)("form",{className:"register",onSubmit:function(e){e.preventDefault(),i&&t(s.name,s.email,s.password)},children:[Object(d.jsxs)("div",{className:"register__contaner",children:[Object(d.jsx)(j.b,{to:"/",children:Object(d.jsx)(u,{})}),Object(d.jsx)("h3",{className:"register__header",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"})]}),Object(d.jsx)("p",{className:"register__description",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{onChange:a,className:"register__input ".concat(c&&c.name&&"register__input_error"),name:"name",tape:"text",minLength:"2",maxLength:"20",required:!0}),Object(d.jsx)("span",{className:"register__error",children:c&&c.name&&c.name}),Object(d.jsx)("p",{className:"register__description",children:"E-mail"}),Object(d.jsx)("input",{onChange:a,className:"register__input ".concat(c&&c.name&&"register__input_error"),name:"email",tape:"email",pattern:"^((([0-9A-Za-z]{1}[-0-9A-z\\.]{0,30}[0-9A-Za-z]?)|([0-9\u0410-\u042f\u0430-\u044f]{1}[-0-9\u0410-\u044f\\.]{0,30}[0-9\u0410-\u042f\u0430-\u044f]?))@([-A-Za-z]{1,}\\.){1,}[-A-Za-z]{2,})$",required:!0}),Object(d.jsx)("span",{className:"register__error",children:c&&c.email&&c.email}),Object(d.jsx)("p",{className:"register__description",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(d.jsx)("input",{onChange:a,className:"register__input ".concat(c&&c.name&&"register__input_error"),name:"password",type:"password",minLength:"8",maxLength:"20",required:!0}),Object(d.jsx)("span",{className:"register__error",children:c&&c.password&&c.password}),Object(d.jsx)(B,{disabled:!i,className:"but",buttonText:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",text:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",link:"/sign-in",buttonLink:"\u0412\u043e\u0439\u0442\u0438"})]})};n(59);var Z=function(){return Object(d.jsxs)("div",{className:"page",children:[Object(d.jsx)("h2",{className:"page__title",children:"404"}),Object(d.jsx)("p",{className:"page__subtitle",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),Object(d.jsx)(j.b,{className:"page__link",to:"/",children:"\u041d\u0430\u0437\u0430\u0434"})]})},D=(n(60),["/","/movies","/saved-movies"]);var J=function(){var e=Object(l.h)();return Object(d.jsx)("footer",{className:"footer ".concat(("/sign-up"===e.pathname||"/sign-in"===e.pathname||"/profile"===e.pathname)&&"footer_none","\n        ").concat(e.pathname==={routeVisible:D}&&"footer"),children:Object(d.jsx)(l.d,{children:Object(d.jsxs)(l.b,{exact:!0,path:D,children:[Object(d.jsx)("p",{className:"project__header footer__header",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(d.jsxs)("div",{className:"footer__block",children:[Object(d.jsx)("p",{className:"footer__year",children:"\xa9 2021"}),Object(d.jsxs)("div",{className:"footer__links",children:[Object(d.jsx)("a",{href:"https://praktikum.yandex.ru",className:"about-link footer__link",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"}),Object(d.jsx)("a",{href:"https://github.com/ulist2020",className:"about-link footer__link",children:"Github"}),Object(d.jsx)("a",{href:"https://www.instagram.com/juliy_smirnovaa/",className:"about-link footer__link",children:"Instagram"})]})]})]})})})};n(61);var P=function(e){return Object(d.jsx)("div",{className:e.isOpen?"popup popup_opened":"popup",children:Object(d.jsxs)("div",{className:"popup__container",children:[Object(d.jsx)("button",{onClick:e.onClose,className:"popup__close-button",type:"reset","aria-label":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(d.jsxs)("div",{className:"popup__block",children:[Object(d.jsxs)("div",{className:"popup__links",children:[Object(d.jsx)(j.b,{onClick:e.onClose,className:"popup__menu",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(d.jsx)(j.b,{onClick:e.onClose,className:"popup__menu",to:"/movies",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(j.b,{onClick:e.onClose,className:"popup__menu",to:"/saved-movies",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(d.jsx)(j.b,{onClick:e.onClose,className:"navigation__button  popup__button",to:"/profile",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"})]})]})})},Y=n(15),G=n(16),V=new(function(){function e(t){var n=t.address;Object(Y.a)(this,e),this._address=n}return Object(G.a)(e,[{key:"getInitialMovies",value:function(){return fetch(this._address,{headers:{"Content-Type":"application/json"}}).then(this._checkResponse)}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}}]),e}())({address:"https://api.nomoreparties.co/beatfilm-movies"}),W=new(function(){function e(t){var n=t.address,s=t.token,a=t.format;Object(Y.a)(this,e),this._address=n,this._token=s,this._format=a}return Object(G.a)(e,[{key:"getUser",value:function(){return this._token="Bearer ".concat(localStorage.getItem("jwt")),fetch("".concat(this._address,"/users/me"),{headers:{Authorization:this._token,Accept:"application/json","Content-Type":this._format}}).then(this._checkResponse)}},{key:"editUser",value:function(e){var t=e.name,n=e.email;return fetch("".concat(this._address,"/users/me"),{method:"PATCH",headers:{Authorization:this._token,Accept:"application/json","Content-Type":this._format},body:JSON.stringify({name:t,email:n})}).then(this._checkResponse)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._address,"/movies"),{headers:{Authorization:this._token,Accept:"application/json","Content-Type":this._format}}).then(this._checkResponse)}},{key:"addSaveMovies",value:function(e){var t=e.country,n=e.director,s=e.duration,a=e.year,c=e.description,i=e.image,o=e.trailer,r=e.nameRU,l=e.nameEN,j=e.thumbnail,d=e.movieId;return fetch("".concat(this._address,"/movies"),{method:"POST",headers:{Authorization:this._token,"Content-Type":this._format},body:JSON.stringify({country:t,director:n,duration:s,year:a,description:c,image:"https://api.nomoreparties.co"+i.url,trailer:o,nameRU:r,nameEN:l,thumbnail:j,movieId:d})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._address,"/movies/").concat(e),{method:"DELETE",headers:{Authorization:this._token,"Content-Type":this._format}}).then(this._checkResponse)}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}}]),e}())({address:"https://api.julia.smirnova.nomoredomains.club",token:"Bearer ".concat(localStorage.getItem("jwt")),format:"application/json"}),q="https://api.julia.smirnova.nomoredomains.club",Q=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))},H=n(26),K=["component"],X=function(e){var t=e.component,n=Object(H.a)(e,K);return Object(d.jsx)(l.b,{children:function(){return n.loggedIn?Object(d.jsx)(t,Object(E.a)({},n)):Object(d.jsx)(l.a,{to:"/"})}})};n(62);var $=function(e){var t=e.isOpen,n=e.onClose,s=e.isSuccess;return Object(d.jsx)("section",{className:t?"popup popup_opened":"popup",id:"InfoTooltip",children:Object(d.jsxs)("div",{className:"popup__cont",children:[Object(d.jsx)("button",{className:"popup__close-but",type:"button",onClick:n}),s?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"popup__img"}),Object(d.jsx)("h2",{className:"popup__header",children:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"popup__img popup__img_fail"}),Object(d.jsx)("h2",{className:"popup__header popup__header_info",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437!"})]})]})})};var ee=function(){var e=Object(l.g)(),t=Object(s.useState)(!1),n=Object(r.a)(t,2),a=n[0],c=n[1],i=Object(s.useState)(!1),j=Object(r.a)(i,2),u=j[0],h=j[1],b=Object(s.useState)([]),p=Object(r.a)(b,2),_=p[0],O=p[1],v=Object(s.useState)(!1),f=Object(r.a)(v,2),x=f[0],g=f[1],k=Object(s.useState)(!1),S=Object(r.a)(k,2),C=S[0],A=S[1],M=Object(s.useState)(0),y=Object(r.a)(M,2),U=y[0],E=y[1],z=Object(s.useState)(0),B=Object(r.a)(z,2),D=B[0],Y=B[1],G=Object(s.useState)(0),H=Object(r.a)(G,2),K=H[0],ee=H[1],te=Object(s.useState)(!1),ne=Object(r.a)(te,2),se=ne[0],ae=ne[1],ce=Object(s.useState)(""),ie=Object(r.a)(ce,2),oe=ie[0],re=ie[1],le=Object(s.useState)(!1),je=Object(r.a)(le,2),de=je[0],ue=je[1],he=Object(s.useState)({}),me=Object(r.a)(he,2),be=me[0],pe=me[1],_e=Object(s.useState)(!1),Oe=Object(r.a)(_e,2),ve=Oe[0],fe=Oe[1],xe=Object(s.useState)([]),ge=Object(r.a)(xe,2),Ne=ge[0],ke=ge[1],Se=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.map((function(e){var n,s,a=[],c=!1,i=null;return t&&(a=t.findIndex((function(t){return t.movieId===e.id&&t.owner===be._id})))>-1&&(c=!0,i=t[a]._id),{country:e.country?e.country:"No country",director:e.director,duration:e.duration,year:e.year,description:e.description,image:e.image,trailer:e.trailerLink,thumbnail:e.image?"https://api.nomoreparties.co".concat(e.image.formats.thumbnail.url):"",nameRU:null!==(n=e.nameRU)&&void 0!==n?n:"",nameEN:null!==(s=e.nameEN)&&void 0!==s?s:"",movieId:e.id,isSaved:c,savedMovieId:i}}));return n&&(s=s.filter((function(e){return e.duration<=40}))),s};function Ce(e){ae(e)}function Ae(t,n){(function(e,t){return fetch("".concat(q,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then(Q)})(t,n).then((function(n){n.token&&(localStorage.setItem("jwt",n.token),re({email:t}),ue(!0),e.push("/movies"))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e)),ae(!1),Ie()})).then((function(){Me()})).finally((function(){localStorage.setItem("lastFetchMovies","0"),ze()}))}function Me(){W.getUser().then((function(e){be={_id:e.data._id,name:e.data.name,email:e.data.email},pe(be)})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))}))}function ye(){window.innerWidth>=1024&&(E(12),Y(4)),window.innerWidth<=1023&&window.innerWidth>=768&&(E(8),Y(2)),window.innerWidth<=480&&window.innerWidth>=320&&(E(5),Y(2))}function we(){setTimeout(ye,300)}function Ie(){fe(!0)}function Le(){h(!1),fe(!1)}Object(s.useEffect)((function(){var t,n=localStorage.getItem("jwt");n&&(t=n,fetch("".concat(q,"/users/me"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then(Q)).then((function(t){re({email:t.data.email}),ue(!0),e.push("/movies")})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))})).finally((function(){Fe()}))}),[e]),Object(s.useEffect)((function(){return window.addEventListener("resize",we),function(){return window.removeEventListener("resize",we)}}));var Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n&&(e=e.filter((function(e){return e.duration<=40}))),t&&(e=e.filter((function(e){return e.nameRU.toLowerCase().includes(t.toLowerCase())}))),e};function Ee(){c(a=!a),g(!0),ze(),g(!1)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e?localStorage.setItem("searchString",e):e=localStorage.getItem("searchString"),"0"===localStorage.getItem("lastFetchMovies"))localStorage.setItem("lastFetchMovies","1"),V.getInitialMovies().then((function(t){localStorage.setItem("allMovies",JSON.stringify(t)),t=JSON.parse(localStorage.getItem("allMovies")),W.getInitialCards().then((function(n){localStorage.setItem("allSavedMovies",JSON.stringify(n)),n=JSON.parse(localStorage.getItem("allSavedMovies"));var s=Se(t,n,a);O(Ue(s,e)),ke(Ue(Be(n,a),e))})).catch((function(e){console.log(e)}))})).catch((function(){A(!0)}));else{var t=JSON.parse(localStorage.getItem("allMovies")),n=JSON.parse(localStorage.getItem("allSavedMovies")),s=Se(t,n,a);O(Ue(s,e)),ke(Ue(Be(n,a),e))}}Object(s.useEffect)((function(){localStorage.setItem("searchString",""),localStorage.setItem("lastFetchMovies","0"),ze(),ye(),Me()}),[]);var Fe=function(){W.getInitialCards().then((function(e){g(!0),ke(e),g(!1)})).catch((function(e){console.log(e)}))},Be=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return e&&(n=(n=e).filter((function(e){return e.owner===be._id})),t&&(n=n.filter((function(e){return e.duration<=40})))),n},Te=function(e){W.deleteCard(e).then((function(){var t=Ne.filter((function(t){return t._id!==e}));ke(t)})).catch((function(e){console.log(e)})).finally((function(){localStorage.setItem("lastFetchMovies","0"),ze()}))};return Object(d.jsx)(L.Provider,{value:be,children:Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)(m,{handleClick:function(){h(!0)},email:oe.email,loggedIn:de}),Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{exact:!0,path:"/",children:Object(d.jsx)(N,{})}),Object(d.jsx)(X,{exact:!0,path:"/movies",loggedIn:de,component:w,loading:x,errorServer:C,onUpdateForm:ze,onClickCheckbox:Ee,movies:_,onButtonAdd:function(){g(!0),ee(K+D),g(!1)},countCards:U+K,onSavedMovies:function(e){W.addSaveMovies(e).then((function(e){ke((function(t){return[].concat(Object(o.a)(t),[e])}))})).catch((function(e){console.log(e)})).finally((function(){localStorage.setItem("lastFetchMovies","0"),ze()}))},onDeleteMovies:Te,savedMovies:Ne,checkedShorts:a}),Object(d.jsx)(X,{exact:!0,path:"/saved-movies",loggedIn:de,component:I,savedMovies:Ne,onClickCheckbox:Ee,onUpdateForm:ze,onDeleteMovies:Te,loading:x,errorServer:C,movies:Ne,checkedShorts:a}),Object(d.jsx)(X,{exact:!0,path:"/profile",loggedIn:de,component:F,onUpdateUser:function(e){W.editUser(e).then((function(e){pe(e),Ce(!0),Ie()})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e))})),Ce(!1),Ie()},onLogout:function(){localStorage.clear(),pe({}),ke([]),O([]),ue(!1),e.push("/")}}),Object(d.jsx)(l.b,{path:"/sign-in",children:Object(d.jsx)(T,{onLogin:Ae})}),Object(d.jsx)(l.b,{path:"/sign-up",children:Object(d.jsx)(R,{onRegister:function(e,t,n){(function(e,t,n){return fetch("".concat(q,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e,email:t,password:n})}).then(Q)})(e,t,n).then((function(e){e&&(Ce(!0),Ie(),Ae(t,n))})).catch((function(e){console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e)),Ce(!1),Ie()}))}})}),Object(d.jsx)(l.b,{path:"*",children:Object(d.jsx)(Z,{})})]}),Object(d.jsx)(J,{}),Object(d.jsx)(P,{isOpen:u,onClose:Le}),Object(d.jsx)($,{isOpen:ve,onClose:Le,isSuccess:se})]})})},te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),s(e),a(e),c(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(j.a,{children:Object(d.jsx)(ee,{})})}),document.getElementById("root")),te()}]),[[63,1,2]]]);
//# sourceMappingURL=main.8ecf3108.chunk.js.map